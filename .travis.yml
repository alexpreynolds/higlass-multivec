language: node_js
node_js:
- '8'
branches:
  only:
  - master
  - develop
  - "/^v.*$/"
before_script:
- npm install
before_deploy:
- npm run prerelease
deploy:
  - provider: releases
    skip_cleanup: true
    email: pkerpedjiev@gmail.com
    api_key:
      secure: qVTt8MMZAOtabn3nQJak/biBdtqjdE8VnCrh9qrTIZRbDWUncLMLP0gVuWoTEo6YBsA9joVTvd+qb0RjOA0SSwKDgcAO3aTLFjfmUUqtY7PtyQ/LvyYGDbcbneN2hEFFumaTbrCyue4R1XUQsK+U8/GJ1RUGI9AQpio6vWcy/g+Dvy8luFvbR2cJtMj+2Jt4fEdx/a4tVO66Tz5uhtAB+P8UJOhGN8+NRqnQ+IJRhudOzJi/nXnTvLjt+CwozJIM8ARQjEtf+RwEY+VD82Uz38J++PkHzfSwlJ9ZOYNGpj6y0bAo4FEdsjSDH0VCrOwgY+VBtyDocGnDgCyXrQV1qS8rdX5qiiuhKnchOODCd3HDE+2NUpCNreV0fMoZ7cfRAUIoTv2KnCijg0u1PPpMxGYmtrvRN17XfOjM0BV8kvybeBsWr1LprRNUEN29sYsHieWudo6F3K5xuT2q8ewdDtcWNgRfq1qUweHDZEwD3cXYWjUoS5sxOOfhfrJ/HDmj19ss4olxMODG5vdY5meId9IoszLsrtbRbTcLSgU9gz7tbaHKjpQwqlwb4YxOjapNctefgG5kyeMSwcdMRK6Jh5kZip5+drsT4+OFx6Z28RJ9B73bGqnRvrLqoa933Lcj65bMjXLx/mAx6G+6yV5ipKPP0awhMUIiTCLzB/RXkk8=
    file: dist.zip
    on:
      tags: true
      branch: master
      repo: hms-dbmi/higlass-multivec
  - provider: npm
    skip_cleanup: true
    email: pkerpedjiev@gmail.com
    api_key:
        secure: "Fk31OTQg6j172rnpDIiJflqJGq/HMX8paZKK1xIC3halrzfR1a3L8MEnNn6wAzNxdOToR/8JqXQ+ZDy7eTQFfy/0s/V3owy8vAAl3Qujb4qXpWgMdSuJkzI2OxCwOM2pV3HTtscp7uk2UYJ+IacnL529Z/hUiu72P0DAHgIUuIgY95QAfaln4n0EgZRdJ2Vd1nlnaFBcZhRFZuXFtAvw2xN3s3G13tL0x4r1k35KGI0Owdhi4DnOIt6EXMOq855igeWIC1L7HHNUwfx4TmJhFOEouLA0Pp/5WmHNeqkWmiHANB4vxmAXwltC43i9OvUL5G3ed1O97GErUzIIZ02/B8T+04reQlJDV2Vcblv9yswxwCsrF42MHgmPtm+h92yrxnwM+VB/V7yoKrLWX3nOW5Oqs4msPtnoM7rKhJRadwTyTyncBPXDqiX+EeRMk7bRbSD9nrPFQQ6FYr7p6zic5H257PHYInGIygPcI4ZOBJ8ZF22UIAoCxzlFMuH83c5E7HpYqvuFIBhq7px5Dw4Bbf4cg9/iz9TebIsHdFgUlDU4QiKRaKXbVV4X0RYVxnGSyUnPJf7NMh5YSni/iUTNYf7L8Boe8AgREANNNNJQ1lyQPsBNL/HMoma6aPdfJqZTNuMX3Ozo/oTgzr4WhYikSQW550QD1CS3Uzr2FgfPLPA="
    on:
      tags: true
      branch: master
      repo: hms-dbmi/higlass-multivec
